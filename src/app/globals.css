
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Aura Color Spectrum - Gradients are handled via Tailwind classes */
    --background: 228 29% 4%; /* Dark Cosmic Void #050510 */
    --foreground: 220 20% 90%;

    --card: 259 69% 60% / 0.1; /* Fallback based on Radiant Purple */
    --card-foreground: 220 20% 90%;

    --popover: 228 29% 4%;
    --popover-foreground: 220 20% 90%;

    /* --- Core Aura & Power Aura --- */
    --primary: 38 100% 63%; /* Magma Orange-Red (for buttons/alerts) */
    --primary-foreground: 220 20% 98%;

    /* --- Energy Aura --- */
    --secondary: 184 100% 50%; /* Plasma Cyan */
    --secondary-foreground: 228 29% 4%;
    
    /* --- Healing Aura --- */
    --tertiary: 141 100% 47%; /* Bio-Lime */

    --muted: 220 20% 10%;
    --muted-foreground: 220 20% 60%;
    
    /* --- Love Aura --- */
    --accent: 328 100% 59%; /* Hyper Pink */
    --accent-foreground: 220 20% 98%;

    /* --- Power Aura for Destructive states --- */
    --destructive: 11 100% 58%; /* Magma Orange-Red */
    --destructive-foreground: 220 20% 98%;

    --border: 268 77% 53% / 0.2; /* Radiant Purple border */
    --input: 220 20% 10% / 0.7;
    --ring: 38 100% 63%;

    --radius: 0.75rem;

    /* --- Aura Chart Palette --- */
    --chart-1: 184 100% 50%; /* Plasma Cyan */
    --chart-2: 141 100% 47%; /* Bio-Lime */
    --chart-3: 328 100% 59%; /* Hyper Pink */
    --chart-4: 45 99% 70%;  /* Celestial Gold */
    --chart-5: 268 77% 53%; /* Radiant Purple */
  }

  .dark {
    --background: 228 29% 4%;
    --foreground: 220 20% 90%;

    --card: 259 69% 60% / 0.1;
    --card-foreground: 220 20% 90%;

    --popover: 228 29% 4%;
    --popover-foreground: 220 20% 90%;

    --primary: 38 100% 63%;
    --primary-foreground: 220 20% 98%;

    --secondary: 184 100% 50%;
    --secondary-foreground: 228 29% 4%;
    
    --tertiary: 141 100% 47%;

    --muted: 220 20% 10%;
    --muted-foreground: 220 20% 60%;

    --accent: 328 100% 59%;
    --accent-foreground: 220 20% 98%;

    --destructive: 11 100% 58%;
    --destructive-foreground: 0 0% 98%;

    --border: 268 77% 53% / 0.2;
    --input: 220 20% 10% / 0.7;
    --ring: 38 100% 63%;
  }
}

@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }
  body {
    @apply bg-background text-foreground;
    background-image: 
      radial-gradient(ellipse 80% 50% at 50% -20%, hsl(var(--accent) / 0.1), transparent),
      radial-gradient(ellipse 80% 50% at 50% 120%, hsl(var(--secondary) / 0.1), transparent),
      url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="hsl(268 77% 53% / 0.03)"><path d="M0 .5H31.5V32"/></svg>');
    animation: background-aurora 20s ease-in-out infinite;
  }

  canvas {
    display: block;
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  .glassmorphism {
    background-color: hsl(var(--card) / 0.1);
    @apply backdrop-blur-xl border border-white/5 rounded-lg;
  }
  
  .glowing-shadow {
    box-shadow: 0 0 25px hsl(var(--primary)/0.2), 0 0 50px hsl(var(--secondary)/0.2), 0 0 75px hsl(var(--accent)/0.15);
  }
  
  .glowing-shadow-interactive {
    box-shadow: 0 0 15px hsl(var(--primary)/0.4), 0 0 8px hsl(var(--accent)/0.3);
    transition: all 0.3s ease;
  }
  .glowing-shadow-interactive:hover {
     box-shadow: 0 0 40px hsl(var(--primary)/0.7), 0 0 20px hsl(var(--accent)/0.5);
  }
   .glowing-shadow-interactive:active {
     box-shadow: 0 0 20px hsl(var(--primary)/0.9), 0 0 10px hsl(var(--accent)/0.7);
   }

  .text-gradient-glow {
    @apply text-transparent bg-clip-text bg-gradient-to-br from-white to-gray-300;
    text-shadow: 0 0 10px hsl(var(--chart-4)/0.8), 0 0 20px hsl(var(--secondary)/0.6), 0 0 30px hsl(var(--accent)/0.4);
  }
}

@layer utilities {
  .perspective-1000 {
    perspective: 1000px;
  }
  .transform-style-3d {
    transform-style: preserve-3d;
  }

  .bg-grid-white\/\[0\.05\] {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='white' stroke-opacity='0.05'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
  }
  .bg-grid-primary\/\[0\.1\] {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='hsl(25 100% 50% / 0.1)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
  }

  .animate-glow-pulse {
    animation: glow-pulse 3s ease-in-out infinite;
  }

  .aura-breathing {
    animation: aura-breathing 4s ease-in-out infinite;
  }
  
  .animate-ripple {
      animation: ripple 1s linear infinite;
  }

    .radar-container {
      @apply relative w-80 h-80 rounded-full border-2 border-primary/30 flex items-center justify-center;
      background: radial-gradient(circle, hsl(var(--primary)/0.05) 0%, hsl(var(--primary)/0.15) 50%, transparent 70%);
      box-shadow: inset 0 0 20px hsl(var(--primary)/0.2);
    }
  
    .radar-sweep {
      @apply absolute w-full h-full;
      background: linear-gradient(to top, transparent 50%, hsl(var(--primary)/0.3));
      border-radius: 50%;
      transform-origin: center;
      animation: radar-sweep 2s linear forwards;
    }
  
    .radar-marker-center {
      @apply w-3 h-3 bg-primary rounded-full;
      box-shadow: 0 0 10px hsl(var(--primary));
    }
  
    .hospital-marker {
        @apply opacity-0;
        animation: appear 0.5s forwards;
    }

    .marker-dot {
        @apply w-3 h-3 bg-secondary rounded-full border-2 border-white;
        box-shadow: 0 0 8px hsl(var(--secondary));
    }

    .marker-pulse {
        @apply absolute w-3 h-3 bg-secondary rounded-full;
        animation: pulse 1.5s infinite;
    }

    .marker-label {
        @apply absolute left-1/2 -translate-x-1/2 top-4 whitespace-nowrap text-xs bg-background/70 px-2 py-1 rounded-md text-white;
    }

    .timeline-glow {
      position: relative;
      padding-left: 30px;
    }
    .timeline-glow::before {
      content: '';
      position: absolute;
      left: 10px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, hsl(var(--primary)/0.1), hsl(var(--secondary)/0.1), hsl(var(--accent)/0.1));
      box-shadow: 0 0 8px hsl(var(--primary)/0.6);
      animation: timeline-flow 10s linear infinite;
    }
    .timeline-point-glow {
      position: absolute;
      left: 0;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background-color: hsl(var(--background));
      border: 2px solid hsl(var(--primary));
      box-shadow: 0 0 15px hsl(var(--primary));
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center;
      animation: aura-breathing 3s ease-in-out infinite;
    }
    .timeline-point-glow > svg {
      color: hsl(var(--primary));
      width: 12px;
      height: 12px;
    }
    .timeline-card-glow {
      transition: all 0.3s ease;
      transform: perspective(1000px) rotateY(-5deg);
    }
    .timeline-card-glow:hover {
      transform: perspective(1000px) rotateY(0deg) scale(1.03);
      box-shadow: 0 10px 40px hsl(var(--secondary)/0.3), 0 0 20px hsl(var(--accent)/0.2);
    }


    #hud{position:fixed;inset:0;pointer-events:none}
    .panel{position:absolute;top:16px;left:16px;background:rgba(20,24,28,.82);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px 14px;pointer-events:auto}
    .panel h2{margin:0 0 8px 0;font-size:16px;font-weight:600}
    .row{display:flex;gap:12px;margin:6px 0}
    #hud label{display:flex;align-items:center;gap:6px;font-size:13px}
    .legend{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}
    .legend-item{padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid rgba(255,255,255,.12)}
    .legend-item.building{background:#244e8f}
    .legend-item.interior{background:#3e7a3c}
    .legend-item.equipment{background:#7a3c72}
    .legend-item.ambulance{background:#8f2a2a}
    #info{position:absolute;bottom:16px;left:16px;background:rgba(20,24,28,.82);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px;font-size:13px;min-width:220px;pointer-events:auto}


    @keyframes radar-sweep {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    @keyframes appear {
      to { opacity: 1; }
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 0.7; }
      100% { transform: scale(4); opacity: 0; }
    }

    @keyframes aura-breathing {
      0%, 100% { box-shadow: 0 0 15px hsl(var(--primary)), 0 0 25px hsl(var(--secondary)/0.5); }
      50% { box-shadow: 0 0 30px hsl(var(--primary)/0.7), 0 0 50px hsl(var(--secondary)/0.7); }
    }
    
    @keyframes timeline-flow {
      from { background-position: 0 0; }
      to { background-position: 0 200px; }
    }

    @keyframes background-aurora {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
     @keyframes ripple {
      0% {
        transform: scale(1);
        opacity: 0.6;
      }
      100% {
        transform: scale(2.5);
        opacity: 0;
      }
    }
}
